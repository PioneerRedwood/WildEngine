# static

- `static` 사용처: 전역 스코프, 네임스페이스 스코프 그리고 클래스 스코프에서의 변수와 함수로 선언되어 사용될 수 있다. 스태틱 변수는 또한 로컬 스코프에서도 선언될 수 있다. 

- `static duration`: 스태틱 지속 기간은 객체 혹은 변수가 프로그램의 시작되어 할당된 시점부터 프로그램이 종료되며 할당 해제된 시점까지의 기간을 의미한다. 
- `external linkage` and `interanl linkage`: 외부 링크는 변수가 선언된 파일의 외부로부터 변수가 노출되는 것을 의미한다. 반대로 내부 링크는 변수가 선언된 파일의 외부로부터 변수가 노출되지 않는다는 것을 의미한다. 

- 기본적으로 전역 네임스페이스에 정의되어있는 객체와 변수는 스태틱 지속 기간을 가지며 외부 링크 속성을 가지고 있다. 아래의 상황에서 이 스태틱 키워드가 사용될 수 있다: 

1. 파일 스코프(전역이거나/또는 네임스페이스 스코프 이내)에서의 변수와 함수가 선언하고 싶을 때, 스태틱 키워드는 내부 링크를 가지게 됨을 명시한다. 변수를 선언할 때, 해당 변수는 스태틱 지속 기간을 갖게되며 컴파일러는 이를 명시하지 않는 한 0로 초기화한다. 

2. 함수 내에서 변수를 선언할 때, 스태틱 키워드는 함수를 호출하는 시점 사이에 그 상태를 계속 유지하게 됨을 명시한다. 
클래스 선언 시 멤버 데이터로 선언한 경우, 스태틱 키워드는 클래스의 모든 인스턴스와 공유되는 하나의 복사본임을 명시한다. 이 스태틱 멤버 데이터는 반드시 해당 파일 스코프 내에서 정의되어야 한다. const static으로 선언한 필수 멤버 데이터는 자체적으로 이니셜라이저를 가질 수 있다. 

3. 클래스 선언 시 멤버 함수로 선언한 경우, 스태틱 키워드는 이 함수가 클래스의 모든 인스턴스와 공유함을 명시한다. 스태틱 멤버 함수는 명시적인 this 포인터가 없기 때문에 인스턴스의 멤버에 접근할 수 없다. 인스턴스 멤버에 접근하기 원한다면, 인스턴스의 포인터나 참조를 매개변수로 전달해야 한다. 

4. union 형식의 멤버를 static으로 선언할 수 없다. 그러나 전역적으로 선언된 익명 union은 반드시 명시적으로 스태틱으로 선언해야 한다. 

## 참고
[Microsoft Docs](https://learn.microsoft.com/en-us/cpp/cpp/storage-classes-cpp?view=msvc-170#static)